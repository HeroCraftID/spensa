(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{44632:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(95155),r=a(12115),i=a(35695),n=a(72713),d=a(69074),l=a(17580),o=a(57434),c=a(75525),h=a(381),m=a(34835),u=a(74783),f=a(54416),x=a(97168),b=a(57383),p=a(15452),g=a(74466),v=a(53999);let N=p.bL;p.l9,p.bm;let j=p.ZL,y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.hJ,{className:(0,v.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});y.displayName=p.hJ.displayName;let w=(0,g.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),E=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:i,...n}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(y,{}),(0,s.jsxs)(p.UC,{ref:t,className:(0,v.cn)(w({side:a}),r),...n,children:[i,(0,s.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function k(e){let{children:t}=e,a=(0,i.usePathname)(),p=(0,i.useRouter)(),[g,j]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!1),[k,A]=(0,r.useState)(""),S=null==a?void 0:a.startsWith("/main/dashboard/report/print"),C=async()=>{let e=b.A.get("token")||"";if(!e){p.push("/main/login");return}try{let t=await fetch("https://api.metrocraftproduction.xyz/edu/spensa/absen/v1/admin/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(t.ok){let a=(await t.json()).data.admin.role;A(a),b.A.set("token",e),w(!0)}else p.push("/main/main")}catch(e){p.push("/main/main")}},z=[{label:"Dashboard",icon:n.A,href:"/main/dashboard",active:"/main/dashboard"===a},{label:"Presence",icon:d.A,href:"/main/dashboard/presence",active:"/main/dashboard/presence"===a},{label:"Students",icon:l.A,href:"/main/dashboard/students",active:"/main/dashboard/students"===a,hidden:"admin"!==k&&"superadmin"!==k&&"root"!==k},{label:"Report of Attendance",icon:o.A,href:"/main/dashboard/report",active:"/main/dashboard/report"===a,hidden:"admin"!==k&&"superadmin"!==k&&"root"!==k},{label:"Admins",icon:c.A,href:"/main/dashboard/admins",active:"/main/dashboard/admins"===a,hidden:"superadmin"!==k&&"root"!==k},{label:"Settings",icon:h.A,href:"/main/dashboard/settings",active:"/main/dashboard/settings"===a}].filter(e=>!e.hidden);(0,r.useEffect)(()=>{y||C()},[y]);let P=()=>{b.A.remove("token"),p.push("/main/main/login")};return S?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{className:"h-full relative",children:[(0,s.jsx)("div",{className:"animated-bg"}),(0,s.jsx)("div",{className:"grid-lines"}),(0,s.jsx)("div",{className:"hidden h-full md:flex md:w-72 md:flex-col md:fixed md:inset-y-0 z-[80] futuristic-sidebar",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"h-24 flex items-center px-6 border-b border-blue-900/20",children:(0,s.jsx)("h1",{className:"text-xl font-bold futuristic-gradient-text leading-snug",children:"SPENSA PRESENCE SYSTEM"})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1",children:z.map(e=>(0,s.jsxs)(x.$,{variant:e.active?"secondary":"ghost",className:(0,v.cn)("w-full justify-start",e.active?"bg-blue-900/30 text-blue-400 border border-blue-500/20 futuristic-glow":"text-gray-300 hover:text-blue-400 hover:bg-blue-900/20"),onClick:()=>p.push(e.href),children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 mr-3"}),e.label]},e.href))}),(0,s.jsx)("div",{className:"px-3 py-4",children:(0,s.jsxs)(x.$,{variant:"ghost",className:"w-full justify-start text-gray-300 hover:text-red-400 hover:bg-red-900/20",onClick:P,children:[(0,s.jsx)(m.A,{className:"h-5 w-5 mr-3"}),"Log out"]})})]})]})}),(0,s.jsxs)("main",{className:"md:pl-72 h-full",children:[(0,s.jsxs)("div",{className:"flex items-center p-4 md:hidden",children:[(0,s.jsx)(x.$,{variant:"ghost",size:"icon",onClick:()=>j(!0),children:(0,s.jsx)(u.A,{className:"h-6 w-6"})}),(0,s.jsx)("h1",{className:"font-bold text-xl ml-2 futuristic-gradient-text",children:"SPENSA PRESENCE SYSTEM"})]}),(0,s.jsx)(N,{open:g,onOpenChange:j,children:(0,s.jsx)(E,{side:"left",className:"p-0 futuristic-sidebar",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"h-16 flex items-center px-6 border-b border-blue-900/20",children:[(0,s.jsx)("h1",{className:"text-xl font-bold futuristic-gradient-text",children:"SPENSA PRESENCE SYSTEM"}),(0,s.jsx)(x.$,{variant:"ghost",size:"icon",className:"ml-auto text-white",onClick:()=>j(!1),children:(0,s.jsx)(f.A,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1",children:z.map(e=>(0,s.jsxs)(x.$,{variant:e.active?"secondary":"ghost",className:(0,v.cn)("w-full justify-start",e.active?"bg-blue-900/30 text-blue-400 border border-blue-500/20 futuristic-glow":"text-gray-300 hover:text-blue-400 hover:bg-blue-900/20"),onClick:()=>{p.push(e.href),j(!1)},children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 mr-3"}),e.label]},e.href))}),(0,s.jsx)("div",{className:"px-3 py-4",children:(0,s.jsxs)(x.$,{variant:"ghost",className:"w-full justify-start text-gray-300 hover:text-red-400 hover:bg-red-900/20",onClick:P,children:[(0,s.jsx)(m.A,{className:"h-5 w-5 mr-3"}),"Log out"]})})]})]})})}),(0,s.jsx)("div",{className:"p-4 md:p-8",children:t})]})]})}E.displayName=p.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.hE,{ref:t,className:(0,v.cn)("text-lg font-semibold text-foreground",a),...r})}).displayName=p.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.VY,{ref:t,className:(0,v.cn)("text-sm text-muted-foreground",a),...r})}).displayName=p.VY.displayName},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(52596),r=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},85113:(e,t,a)=>{Promise.resolve().then(a.bind(a,44632))},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(95155),r=a(12115),i=a(99708),n=a(74466),d=a(53999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:o=!1,...c}=e,h=o?i.DX:"button";return(0,s.jsx)(h,{className:(0,d.cn)(l({variant:r,size:n,className:a})),ref:t,...c})});o.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[598,940,88,894,441,684,358],()=>t(85113)),_N_E=e.O()}]);